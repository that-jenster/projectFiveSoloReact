(this["webpackJsonptravel-memories"]=this["webpackJsonptravel-memories"]||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/markerpin.ecdad0c2.png"},38:function(e,t,a){e.exports=a(57)},43:function(e,t,a){},44:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),i=(a(43),a(6)),s=a(7),c=a(9),u=a(8),m=(a(33),a(44),a(37)),p=(a(16),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("button",{onClick:this.props.showSignUp},"Sign Up")),r.a.createElement("li",null,r.a.createElement("button",{onClick:this.props.showLogin},"LogIn")))}}]),a}(r.a.Component)),h=a(29),d=a.n(h);a(46),a(49);d.a.initializeApp({apiKey:"AIzaSyDWQJYVT5hp_-c-5lsT9C347Hlju5ihl1c",authDomain:"travel-memories-bdc4e.firebaseapp.com",databaseURL:"https://travel-memories-bdc4e.firebaseio.com",projectId:"travel-memories-bdc4e",storageBucket:"travel-memories-bdc4e.appspot.com",messagingSenderId:"292457573659",appId:"1:292457573659:web:f0339f888072fef36b77be"});var f=d.a,g=a(12),y=a.n(g),E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).loggedOut=function(){f.auth().signOut().then((function(){y.a.fire({title:"".concat(e.props.displayName,", Thanks for writing a Memory"),text:"Come back soon!",type:"success",confirmButtonText:"LOGOUT",confirmButtonColor:"#846075"}).then((function(){window.location.reload(!0)}))})).catch((function(e){y.a.fire({title:"Please Try Again",text:e.message,type:"error",confirmButtonColor:"#846075"})}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.displayName.match(/\b\w/g)||[];return e=((e.shift()||"")+(e.pop()||"")).toUpperCase(),r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement("button",{onClick:this.loggedOut},"Log Out")),r.a.createElement("li",null,r.a.createElement("button",{className:"btnInital purple"},e)))}}]),a}(n.Component),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navWrapper"},r.a.createElement("div",{className:"contentContainer"},r.a.createElement("h4",{className:"navLogo left"},"Travel Memories"),this.props.user?r.a.createElement(E,{displayName:this.props.displayName}):r.a.createElement(p,{showLogin:this.props.showLogin,showSignUp:this.props.showSignUp}))))}}]),a}(r.a.Component),b=function(){return r.a.createElement("div",{id:"homePage",className:"wrapper"},r.a.createElement("div",{className:"photo"},r.a.createElement("img",{className:"headerPhoto",src:"https://picsum.photos/640/360"}),r.a.createElement("div",{className:"titleHeader"},"Memories: A Personal Travel Diary")))},w=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("footer",{className:"mainFooter"},r.a.createElement("p",null,"Developed and Designed with love and coffee ",r.a.createElement("span",null,"@thatjenster")),r.a.createElement("div",{className:"footerSocial"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://twitter.com/thatjenster"},r.a.createElement("i",{className:"fa fa-twitter","aria-hidden":"true"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/that-jenster"},r.a.createElement("i",{className:"fa fa-github","aria-hidden":"true"}))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.instagram.com/jennyt.dinh/"},r.a.createElement("i",{className:"fa fa-instagram","aria-hidden":"true"}))))))},C=a(15),O=a(36),N=a.n(O),S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleChange,n=t.handleClick,o=t.attrOne,l=t.date,i=t.inputError;return r.a.createElement("div",null,r.a.createElement("form",{action:"submit"},r.a.createElement("h2",null,"Your Memories"),r.a.createElement("label",{htmlFor:"date",className:"date"},"When did you go?"),r.a.createElement("input",{type:"date",name:"date",onChange:a,value:l}),r.a.createElement("label",{htmlFor:"countryInput"},"Where did you go?"),r.a.createElement(N.a,{apiKey:"AIzaSyB7EqAAOoRjymBVcg2tVx83xBTdMmCq3fk",onPlaceSelected:function(t){e.props.autoFunction(t)},types:["(regions)"]}),r.a.createElement("h2",null,"Favorite Moments: "),r.a.createElement("label",{htmlFor:"attrOne"},r.a.createElement("i",{className:"fa fa-paper-plane-o","aria-hidden":"true"})),r.a.createElement("input",{type:"text",name:"attrOne",onChange:a,value:o}),r.a.createElement("p",{className:"errorMessage"},i),r.a.createElement("button",{className:"button formBtn",onClick:n},"Post Me!")))}}]),a}(n.Component),j=function(e){var t=e.date,a=e.countryInput,n=e.attrOne,o=e.deleteEntry,l=e.uniqueId;return r.a.createElement("li",{className:"eachEntry",key:l},r.a.createElement("button",{onClick:o},r.a.createElement("i",{class:"fa fa-trash","aria-hidden":"true"})),r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,a),r.a.createElement("p",null,t),r.a.createElement("div",null,n)))},k=a(60),D=a(61),I=a(59),P=a(62),B=a(10),L=a.n(B),M=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=new L.a.Icon({iconUrl:a(34),iconRetinaUrl:a(34),iconSize:new L.a.Point(30.74,24),className:"leaflet-div-icon"});return r.a.createElement(k.a,{center:[23.42,53.85],zoom:2,preferCanvas:!1,scrollWheelZoom:!1},r.a.createElement(D.a,{attribution:'\xa9 <a href="http://openstreeetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.props.personalMemory.map((function(t){var a=[t.log.markerLat,t.log.markerLng];return r.a.createElement(I.a,{position:a,key:t.id,icon:e},r.a.createElement(P.a,null,"I was here. ",r.a.createElement("br",null)," and it was AWESOME."))})))}}]),n}(r.a.Component),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onPlaceSelected=function(e){var t=e.address_components[0].long_name;n.setState({countryInput:t,markerPosition:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}})},n.handleChange=function(e){n.setState(Object(C.a)({},e.target.name,e.target.value))},n.inputCheck=function(){var e="";return 0!==n.state.date.length&&0!==n.state.countryInput.length&&0!==n.state.attrOne.length||(e="Hello! Please fill it all out."),!e||(n.setState({inputError:e}),!1)},n.handleClick=function(e){e.preventDefault(),n.inputCheck()&&(n.setState({date:"",countryInput:"",attrOne:"",inputError:"",markerPosition:{lat:"",lng:""}}),n.state.dbRef.ref("users/"+n.props.user).push({date:n.state.date,countryInput:n.state.countryInput,attrOne:n.state.attrOne,markerLat:n.state.markerPosition.lat,markerLng:n.state.markerPosition.lng}))},n.deleteMemory=function(e){y.a.fire({title:"Are you sure you want to delete this Memory?",type:"warning",showCancelButton:!0,confirmButtonColor:"#846075",cancelButtonColor:"#1A1423",confirmButtonText:"Yes, delete it!"}).then((function(t){t.value&&n.state.dbRef.ref("users/"+n.props.user).child(e).remove()}))},n.state={dbRef:f.database(),personalMemory:[],date:"",countryInput:"",attrOne:"",inputError:"",markerPosition:{lat:"",lng:""}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.dbRef.ref("users/"+this.props.user).on("value",(function(t){var a=[],n=t.val();for(var r in n)a.push({log:n[r],id:r});e.setState({personalMemory:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"wrapper"},r.a.createElement("section",{className:"personalBoard"},r.a.createElement("div",{className:"travelEntry"},r.a.createElement(S,{handleChange:this.handleChange,handleClick:this.handleClick,date:this.state.date,countryInput:this.state.countryInput,attrOne:this.state.attrOne,inputError:this.state.inputError,autoFunction:this.onPlaceSelected,user:this.props.user}))),r.a.createElement("div",null,r.a.createElement("ul",{className:"personalDiary"},this.state.personalMemory.map((function(t){return r.a.createElement(j,{key:t.id.user,date:t.log.date,countryInput:t.log.countryInput,attrOne:t.log.attrOne,deleteEntry:function(){return e.deleteMemory(t.id)}})})))),r.a.createElement("div",{className:"mapContainer"},r.a.createElement(M,{personalMemory:this.state.personalMemory})))}}]),a}(n.Component),U=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e.submitHandle=function(e){e.preventDefault()},e.login=function(){var t=document.querySelector("#email").value,a=document.querySelector("#password").value;f.auth().signInWithEmailAndPassword(t,a).then((function(t){e.props.updateState(t.user.uid),e.props.updateDiary(),e.props.updateDisplayName(t.user.displayName)})).catch((function(e){y.a.fire({title:"Please Try Again",text:e.message,type:"error",confirmButtonColor:"#846075",cancelButtonColor:"#1A1423"})}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"formContainer"},r.a.createElement("form",{onSubmit:this.submitHandle,className:"signin"},r.a.createElement("h4",null,"Sign In"),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange}),r.a.createElement("button",{className:"signinBtn",onClick:this.login},"LogIn")))}}]),a}(n.Component),x=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",name:"",lastName:""},e.handleChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e.submitHandle=function(e){e.preventDefault()},e.signUp=function(){var t=document.querySelector("#emailup").value,a=document.querySelector("#passwordup").value,n=document.querySelector("#name").value,r=document.querySelector("#lastName").value;f.auth().createUserWithEmailAndPassword(t,a).then((function(t){t.user.updateProfile({displayName:"".concat(n," ").concat(r)}).then((function(){e.props.updateDisplayName(t.user.displayName)})),y.a.fire({title:"Yay, Please proceed to login",type:"success",text:"Have a Happy Memory!",confirmButtonColor:"#846075"})})).catch((function(e){y.a.fire({title:"Please Register Again!",type:"error",text:e.message,confirmButtonColor:"#846075",cancelButtonColor:"#1A1423"})}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"formContainer"},r.a.createElement("form",{onSubmit:this.submitHandle,className:"signin"},r.a.createElement("h4",null,"Register"),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"emailup",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"passwordup",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange}),r.a.createElement("button",{className:"signinBtn",onClick:this.signUp},"Register")))}}]),a}(n.Component),H=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).updateState=function(t){e.setState({user:t})},e.showDiary=function(){e.setState({showDiary:!0,showLogin:!1,showSignUp:!1,showHeader:!1})},e.showLogin=function(){e.setState({showLogin:!0,showDiary:!1,showSignUp:!1,showHeader:!1})},e.showSignUp=function(){e.setState({showDiary:!1,showLogin:!1,showSignUp:!0,showHeader:!1})},e.updateDisplayName=function(t){e.setState({displayName:t})},e.state={user:null,showLogin:!1,showSignUp:!1,showHeader:!0,showDiary:!1,displayName:""},e}return Object(s.a)(a,[{key:"render",value:function(){var e;return e=this.state.showSignUp&&!this.state.showHeader?r.a.createElement(x,{updateState:this.updateState,updateDisplayName:this.updateDisplayName}):this.state.showLogin&&!this.state.showHeader?r.a.createElement(U,{updateState:this.updateState,updateDiary:this.showDiary,updateDisplayName:this.updateDisplayName}):this.state.showDiary?r.a.createElement(A,{user:this.state.user}):r.a.createElement(b,null),r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,{showLogin:this.showLogin,showSignUp:this.showSignUp,user:this.state.user,displayName:this.state.displayName}),r.a.createElement("div",{className:"mainSectionContainer"},e),r.a.createElement(w,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.e1265a3d.chunk.js.map